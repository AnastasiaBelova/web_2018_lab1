# Отчет по лабораторной работе №1: **Изучение протокола HTTP**

## Дисциплина: Основы разработки Web-приложений

### Выполнила : *Белова Анастасия* , *ИУ7-75*

## Работа с запросами с помощью Postman

###  OPTIONS

  

  

Используется для определения возможностей веб-сервера или параметров соединения для конкретного ресурса. В ответ серверу следует включить заголовок Allow со списком поддерживаемых методов. Также в заголовке ответа может включаться информация о поддерживаемых расширениях.

Предполагается, что запрос клиента может содержать тело сообщения для указания интересующих его сведений. Формат тела и порядок работы с ним в настоящий момент не определён; сервер пока должен его игнорировать. Аналогичная ситуация и с телом в ответе сервера.

Для того, чтобы узнать возможности всего сервера, клиент должен указать в URI звёздочку — «*». Запросы «OPTIONS * HTTP/1.1» могут также применяться для проверки работоспособности сервера (аналогично «пингованию») и тестирования на предмет поддержки сервером протокола HTTP версии 1.1.

Результат выполнения этого метода не кэшируется.

  

#### Mail.ru

Запрос: 'https://mail.ru'

Код статуса:  400

---

  

#### Ya.ru

Запрос: 'https://ya.ru'

Код статуса:  403 Forbidden

---

  

#### Rambler.ru

Запрос: 'https://www.rambler.ru'

Код статуса:  403

---

  

#### Google.ru

Запрос:  'https://google.ru'

Код статуса:  405

---

  

#### Github.com

Запрос: 'https://github.com'

Код статуса:  404 Not found

---

  

#### Apple.com

Запрос:  'https://apple.com'

Код статуса:  200 OK

Значение поля заголовка Allow: GET,HEAD,POST,OPTIONS

---

  

Запрос отработал без ошибки только на Apple.com. В заголовке ответа перечислены методы, которые поддерживает сервер.

  

### HEAD

Аналогичен методу GET (используется для получения ресурса), за исключением того, что в ответе сервера отсутствует тело. Запрос HEAD обычно применяется для извлечения метаданных, проверки наличия ресурса (валидация URL) и чтобы узнать, не изменился ли он с момента последнего обращения.

Заголовки ответа могут кэшироваться. При несовпадении метаданных ресурса с соответствующей информацией в кэше — копия ресурса помечается как устаревшая.

  

#### Vk.com

Запрос: 'https://vk.com'

Код статуса:  501

---

  

#### Apple.com

Запрос: 'https://apple.com'

Ответ:  status: 200 OK

---

  

#### Msn.com

Запрос: 'https://msn.com'

Ответ:  status: 302

location: https://www.msn.com/ru-ru/

---

  

Запрос отработал ожидаемо на apple.com и msn.com. Во втором случае статус код 302 говорит о том, что URL был перемещен по адресу в location.

  

### GET

  

Используется для запроса содержимого указанного ресурса. С помощью метода GET можно также начать какой-либо процесс. В этом случае в тело ответного сообщения следует включить информацию о ходе выполнения процесса.

При отправке GET-запроса по адресам http://yandex.ru и http://google.ru была получена страница поисковика в теле ответа.

  

### POST

  

Применяется для передачи пользовательских данных заданному ресурсу. Например, в блогах посетители обычно могут вводить свои комментарии к записям в HTML-форму, после чего они передаются серверу методом POST и он помещает их на страницу. При этом передаваемые данные (в примере с блогами — текст комментария) включаются в тело запроса. Аналогично с помощью метода POST обычно загружаются файлы на сервер.

В отличие от метода GET, метод POST не считается идемпотентным, то есть многократное повторение одних и тех же запросов POST может возвращать разные результаты (например, после каждой отправки комментария будет появляться очередная копия этого комментария)

При результате выполнения 200 (Ok) в тело ответа следует включить сообщение об итоге выполнения запроса. Если был создан ресурс, то серверу следует вернуть ответ 201 (Created) с указанием URI нового ресурса в заголовке Location.

Сообщение ответа сервера на выполнение метода POST не кэшируется.

  

При отправке POST-запросов по адресам http://yandex.ru и http://google.ru была получена страница ошибки, на которой сообщается, что получение POST-запроса неуместно по отношению к данным URL. Статус коды 403 Frobidden и 405 соответственно.

  

## Работа с API сайта

### Получение списка факультетов МГТУ им. Н.Э. Баумана

  

Для получения списка используются методы database.getUniversities и database.getFaculties API VK

Для того, чтобы обратиться к getFaculties нужен university_id из БД VK

Чтобы его получить составляется следующий запрос:

https://api.vk.com/method/database.getUniversities?q=МГТУ&country_id=1&city_id=1access_token=USER_ACCESS_TOKEN

  

В теле ответа на него приходит json-объект со списком университетов. В списке находим МГТУ им. Н.Э. Баумана. university_id у него равно 250

  

Далее, чтобы получить список факультетов,был составлен следующий запрос:

https://api.vk.com/method/database.getFaculties?university_id=250&access_token=USER_ACCESS_TOKEN

  

В теле ответа приходит следующий json-объект

```json

{

"response":[

20,

{

"id": 1031,

"title": "Аэрокосмический факультет"

},

{

"id": 1032,

"title": "Факультет инженерного бизнеса и менеджмента"

},

{

"id": 1033,

"title": "Факультет информатики и систем управления"

},

{

"id": 1034,

"title": "Факультет машиностроительных технологий"

},

{

"id": 1035,

"title": "Факультет оптико-электронного приборостроения"

},

{

"id": 1036,

"title": "Приборостроительный факультет"

},

{

"id": 1037,

"title": "Радиотехнический факультет"

},

{

"id": 1038,

"title": "Факультет радиоэлектроники и лазерной техники"

},

{

"id": 1039,

"title": "Факультет ракетно-космической техники"

},

{

"id": 1040,

"title": "Факультет робототехники и комплексной автоматизации"

},

{

"id": 1041,

"title": "Факультет специального машиностроения"

},

{

"id": 1042,

"title": "Факультет фундаментальных наук"

},

{

"id": 1043,

"title": "Факультет энергомашиностроения"

},

{

"id": 1044,

"title": "Кафедра юриспруденции, интеллектуальной собственности и судебной экспертизы"

},

{

"id": 1803,

"title": "Факультет биомедицинской техники"

},

{

"id": 1804,

"title": "Факультет социально-гуманитарных наук"

},

{

"id": 56430,

"title": "Факультет лингвистики"

},

{

"id": 56431,

"title": "Физкультурно-оздоровительный факультет"

},

{

"id": 2071503,

"title": "Головной учебно-исследовательский и методический центр (ГУИМЦ)"

},

{

"id": 2183736,

"title": "Факультет военного обучения (Военный институт)"

}

]

}

```

  

### Получение аватара VK

Для получения ссылки на аватар пользователя нужно составить следующий запрос:

  

https://api.vk.com/method/users.get?id=119548860&fields=photo_100&access_token=xxxxxxxxxx

  

Во всех запросах присылался статус-код 200 OK.Данные приходят в кодировке utf-8. На запросы VK отвечает веб-сервер nginx.

  

### POST запросы через VK API

  

Была отправлена запись на стену. Данные от пользователя на сервер передаются через тело POST-запроса.

  

## Серверное приложение

  

Было создано приложение, предоставляющее http для раздачи статических файлов в /static, настроен роутинг. /belova предоставляет пример обрабоки запросов и ответов в формате json. Сервер разворачивается на localhost:5000.

  

Если hack.html переименовать в hack.txt и выдать на браузер, отобразится только код страницы.
